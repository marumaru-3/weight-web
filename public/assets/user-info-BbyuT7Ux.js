import{h as l,j as m}from"./main.js";import{i as d}from"./form-date-DC5VUZ3x.js";import{a as s,b as u,f as h,i as r,d as f,e as y}from"./form-validate-CVHGrpdv.js";const S=e=>{d(),s(),u("input[data-alphanumeric]"),h("input[data-float]");const t=document.querySelector("#user-info-form"),n=document.querySelector(".admin-account-form"),c=document.querySelector(".admin-user-form");if(e){modal.querySelector("#username").value=e.username,modal.querySelector("#birth-year").value=e.birth_year,modal.querySelector("#birth-month").value=e.birth_month,requestAnimationFrame(()=>{modal.querySelector("#birth-day").value=e.birth_day});const o=document.querySelector(`input[name="gender"][value="${e.gender}`);o.checked=!0,modal.querySelector("#height").value=e.height,modal.querySelector("#ideal-weight").value=e.ideal_weight}r(),document.addEventListener("input",r),document.addEventListener("change",r),t&&t.addEventListener("submit",async o=>{if(o.preventDefault(),f(),!y(t)){console.log("バリデーションエラー： フォーム送信をキャンセル");return}const a=new FormData(t);let i;n&&(i=await l(a)),c&&(i=await m(a)),window.history.scrollRestoration="manual",window.location.reload(),i.success||alert(i.message)})};export{S as init};
